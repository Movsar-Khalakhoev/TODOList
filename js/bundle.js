!function(t){var e={};function r(o){if(e[o])return e[o].exports;var l=e[o]={i:o,l:!1,exports:{}};return t[o].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)r.d(o,l,function(e){return t[e]}.bind(null,l));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";let o;r.r(e);const l=["#a60000","#5d8114","#8455bf","#1f0351","#b69200","#ff5600","#f3296d","#009641"],n=document.querySelector(".left__folders"),s=document.querySelector(".right__tasks"),c=function(){n.innerHTML="";for(let t in o.folders){const e=document.createElement("div");e.classList.add("left__folder"),e.setAttribute("id",o.folders[t].id),e.innerHTML=`\n\t\t\t<div class="left__folder-overlay" title="${o.folders[t].name}"></div>\n\t\t\t<div class="left__folder-circle" style="background-color: ${o.folders[t].circleColor}"></div>\n\t\t\t<div class="left__folder-text element-text">${o.folders[t].name}</div>\n\t\t\t<div class="left__folder-transform">\n\t\t\t\t<div class="left__folder-edit">\n\t\t\t\t\t<div class="left__folder-edit-overlay overlay edit-overlay"></div>\n\t\t\t\t\t<svg class="left__folder-edit-icon icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t viewBox="0 0 383.947 383.947" style="enable-background:new 0 0 383.947 383.947;" xml:space="preserve"><g>\t<g>\t\t<g>\t\t\t<polygon points="0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893 \t\t\t"/>\t\t\t<path d="M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04\t\t\t\tC386.027,77.92,386.027,64.373,377.707,56.053z"/>\t</g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\n\t\t\t\t</div>\n\t\t\t\t<div class="left__folder-delete">\n\t\t\t\t\t<div class="left__folder-delete-overlay overlay delete-overlay"></div>\n\t\t\t\t\t<svg class="left__folder-delete-icon icon" height="427pt" viewBox="-40 0 427 427.00131" width="427pt" xmlns="http://www.w3.org/2000/svg"><path d="m232.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"/><path d="m114.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"/><path d="m28.398438 127.121094v246.378906c0 14.5625 5.339843 28.238281 14.667968 38.050781 9.285156 9.839844 22.207032 15.425781 35.730469 15.449219h189.203125c13.527344-.023438 26.449219-5.609375 35.730469-15.449219 9.328125-9.8125 14.667969-23.488281 14.667969-38.050781v-246.378906c18.542968-4.921875 30.558593-22.835938 28.078124-41.863282-2.484374-19.023437-18.691406-33.253906-37.878906-33.257812h-51.199218v-12.5c.058593-10.511719-4.097657-20.605469-11.539063-28.03125-7.441406-7.421875-17.550781-11.5546875-28.0625-11.46875h-88.796875c-10.511719-.0859375-20.621094 4.046875-28.0625 11.46875-7.441406 7.425781-11.597656 17.519531-11.539062 28.03125v12.5h-51.199219c-19.1875.003906-35.394531 14.234375-37.878907 33.257812-2.480468 19.027344 9.535157 36.941407 28.078126 41.863282zm239.601562 279.878906h-189.203125c-17.097656 0-30.398437-14.6875-30.398437-33.5v-245.5h250v245.5c0 18.8125-13.300782 33.5-30.398438 33.5zm-158.601562-367.5c-.066407-5.207031 1.980468-10.21875 5.675781-13.894531 3.691406-3.675781 8.714843-5.695313 13.925781-5.605469h88.796875c5.210937-.089844 10.234375 1.929688 13.925781 5.605469 3.695313 3.671875 5.742188 8.6875 5.675782 13.894531v12.5h-128zm-71.199219 32.5h270.398437c9.941406 0 18 8.058594 18 18s-8.058594 18-18 18h-270.398437c-9.941407 0-18-8.058594-18-18s8.058593-18 18-18zm0 0"/><path d="m173.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"/></svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`,n.append(e)}},i=function(){const t=o.folders[o.activeFolder];if(0==t.tasks.length)return s.textContent="Задачи отсутствуют",void(s.style.cssText="border: none; font-size: 20px; color: #767676;");s.style="",s.innerHTML="",t.tasks.forEach((e,r)=>{const o=document.createElement("div");o.classList.add("right__task"),o.setAttribute("id",r),o.innerHTML=`\n\t\t\t<label for="cbx-${r}" class="right__task-label">\n\t\t\t\t<div class="overlay"><div class="right__task-overlay change-overlay overlay"></div></div>\n\t\t\t\t<input id="cbx-${r}" type="checkbox" class="right__task-hidden-input">\n\t\t\t\t<div class="right__task-checkbox">\n\t\t\t\t\t<svg width="20px" height="20px" viewBox="0 0 20 20">\n\t\t\t\t\t\t<path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>\n\t\t\t\t\t\t<polyline points="4 11 8 15 16 6"></polyline>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<p class="right__task-text element-text">${t.tasks[r]}</p>\n\t\t\t</label>\n\t\t\t<div class="right__task-transform">\n\t\t\t\t<div class="right__task-edit">\n\t\t\t\t\t<div class="right__task-edit-overlay overlay edit-overlay"></div>\n\t\t\t\t\t<svg class="right__task-edit-icon icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t viewBox="0 0 383.947 383.947" style="enable-background:new 0 0 383.947 383.947;" xml:space="preserve"><g>\t<g>\t\t<g>\t\t\t<polygon points="0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893 \t\t\t"/>\t\t\t<path d="M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04\t\t\t\tC386.027,77.92,386.027,64.373,377.707,56.053z"/>\t</g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\n\t\t\t\t</div>\n\t\t\t\t<div class="right__task-delete">\n\t\t\t\t\t<div class="right__task-delete-overlay overlay delete-overlay"></div>\n\t\t\t\t\t<svg class="right__task-delete-icon icon" height="427pt" viewBox="-40 0 427 427.00131" width="427pt" xmlns="http://www.w3.org/2000/svg"><path d="m232.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"/><path d="m114.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"/><path d="m28.398438 127.121094v246.378906c0 14.5625 5.339843 28.238281 14.667968 38.050781 9.285156 9.839844 22.207032 15.425781 35.730469 15.449219h189.203125c13.527344-.023438 26.449219-5.609375 35.730469-15.449219 9.328125-9.8125 14.667969-23.488281 14.667969-38.050781v-246.378906c18.542968-4.921875 30.558593-22.835938 28.078124-41.863282-2.484374-19.023437-18.691406-33.253906-37.878906-33.257812h-51.199218v-12.5c.058593-10.511719-4.097657-20.605469-11.539063-28.03125-7.441406-7.421875-17.550781-11.5546875-28.0625-11.46875h-88.796875c-10.511719-.0859375-20.621094 4.046875-28.0625 11.46875-7.441406 7.425781-11.597656 17.519531-11.539062 28.03125v12.5h-51.199219c-19.1875.003906-35.394531 14.234375-37.878907 33.257812-2.480468 19.027344 9.535157 36.941407 28.078126 41.863282zm239.601562 279.878906h-189.203125c-17.097656 0-30.398437-14.6875-30.398437-33.5v-245.5h250v245.5c0 18.8125-13.300782 33.5-30.398438 33.5zm-158.601562-367.5c-.066407-5.207031 1.980468-10.21875 5.675781-13.894531 3.691406-3.675781 8.714843-5.695313 13.925781-5.605469h88.796875c5.210937-.089844 10.234375 1.929688 13.925781 5.605469 3.695313 3.671875 5.742188 8.6875 5.675782 13.894531v12.5h-128zm-71.199219 32.5h270.398437c9.941406 0 18 8.058594 18 18s-8.058594 18-18 18h-270.398437c-9.941407 0-18-8.058594-18-18s8.058593-18 18-18zm0 0"/><path d="m173.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"/></svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`,s.append(o),t.performedTasksID.includes(r)&&(s.lastChild.querySelector(".right__task-hidden-input").checked=!0)})};const a=function(t,e,r=[],o=[],l=[]){const n=document.querySelector(t),s=[],c=[],i=[];r&&(r.forEach(t=>s.push(document.querySelector(t))),s.forEach(t=>{t.addEventListener("click",()=>{n.classList.toggle(e),n.querySelector('input[type="text"]').focus()})})),o&&(o.forEach(t=>c.push(document.querySelector(t))),c.forEach(t=>{t.addEventListener("click",()=>{n.classList.add(e)})})),l&&(l.forEach(t=>i.push(document.querySelector(t))),i.forEach(t=>{t.addEventListener("click",()=>{n.classList.remove(e)})}))},d=function(){fetch("http://localhost:3000/tasks",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(o)})};function f(t=o.activeFolder){if(0==Object.keys(o.folders).length)return document.querySelector(".right__header-text").textContent="",document.querySelector(".right__tasks").textContent="Задачии отсутствуют",document.querySelector(".right__create").style.display="none",document.querySelector(".right__header").style.display="none",void(document.querySelector(".right__tasks").style.cssText="border: none; font-size: 25px; color: #767676; margin-top: 80px;");document.querySelector(".right__create").style="",document.querySelector(".right__header").style="",document.querySelector(".right__tasks").style="";for(let e in o.folders)o.folders[e].id==t&&(o.activeFolder=e);const e=o.folders[o.activeFolder];document.querySelectorAll(".left__folder").forEach(t=>{t.id==e.id?t.classList.add("left__folder-active"):t.classList.remove("left__folder-active")}),document.querySelector(".right__header-text").textContent=e.name,i()}const g=function(t,e,r,n){const s=document.querySelector(e),a=document.querySelector(n);let g,u;s.addEventListener("click",()=>{const e=document.querySelector(r);if(e.value.trim()&&"folder"===t){const t="folder"+Object.keys(o.folders).length;o.folders[t]={},o.folders[t].name=e.value.trim(),o.folders[t].id=Object.keys(o.folders).length-1,a.querySelector(":checked")?(o.folders[t].circleColor=g,a.querySelector(":checked").checked=!1):o.folders[t].circleColor=(n=l)[Math.floor(Math.random()*n.length)],o.folders[t].tasks=[],o.folders[t].performedTasksID=[],c(),o.activeFolder="folder"+(Object.keys(o.folders).length-1),f()}else if(e.value.trim()&&"task"===t){o.folders[o.activeFolder].tasks.push(e.value.trim()),i(),e.focus()}var n;d(),a.querySelector(".input-after").style.backgroundColor="#4DD599",e.value=""}),"folder"===t?(u=23,document.querySelector(".left__creating-colors").addEventListener("click",t=>{t.target.classList.contains("left__creating-radio")&&(g=t.target.style.backgroundColor)})):u=110;const v=a.querySelector('input[type="text"]');v.addEventListener("input",()=>{v.value.length>u?(v.value=v.value.substring(0,v.value.length-1),a.querySelector(".input-after").style.backgroundColor="#DC143C"):a.querySelector(".input-after").style.backgroundColor="#4DD599"})},u=function(t,e){const r=document.querySelector(e),l=o.folders[o.activeFolder];let n;r.addEventListener("click",e=>{const r=e.target.parentNode.parentNode.parentNode;e.target.classList.contains("delete-overlay")?s(t,r):e.target.classList.contains("edit-overlay")?a(t,r):e.target.classList.contains("edit-save")?v(t,r,n):e.target.classList.contains("edit-cancel")?_(t,r,n):e.target.classList.contains("change-overlay")&&h(r)});const s=function(t,e){const r=+e.getAttribute("id");if("task"===t){const t=o.folders[o.activeFolder],l=e.querySelector('input[type="checkbox"]');t.tasks.splice(r,1),t.performedTasksID.forEach((e,o)=>{e>r&&t.performedTasksID[o]--}),l.checked&&t.performedTasksID.splice(t.performedTasksID.indexOf(r),1),i(),d()}else if("folder"===t)for(let t in o.folders)if(r==o.folders[t].id){Object.keys(o.folders).slice(r+1).map(t=>+t.slice(-1)).forEach(t=>{o.folders["folder"+t].id=t-1,o.folders["folder"+(t-1)]=JSON.parse(JSON.stringify(o.folders["folder"+t]))}),delete o.folders["folder"+(Object.keys(o.folders).length-1)],c(),o.activeFolder="folder0",f(),d();break}},a=function(t,e){const r=+e.getAttribute("id");n=e.innerHTML,"task"===t?(e.style.padding=0,g(e)):"folder"===t&&(o.activeFolder="folder"+r,f(),u(e))},g=function(t){let e=`\n\t\t<div class="right__task-form">\n\t\t\t<input class="right__task-form-input" type="text" value="${t.querySelector(".right__task-text").innerHTML}">\n\t\t\t<div class="right__task-form-buttons">\n\t\t\t\t<button class="right__task-form-save edit-save primary-button">Сохранить</button>\n\t\t\t\t<button class="right__task-form-cancel edit-cancel secondary-button">Отмена</button>\n\t\t\t</div>\n\t\t</div>\n\t\t`;t.innerHTML=e},u=function(t){let e=`\n\t\t<div class="left__folder-form">\n\t\t\t<input class="left__folder-form-input" type="text" value="${t.querySelector(".left__folder-text").innerHTML}">\n\t\t\t<div class="left__folder-form-buttons">\n\t\t\t\t<button class="left__folder-form-save edit-save primary-button">&#10004;</button>\n\t\t\t\t<button class="left__folder-form-cancel edit-cancel secondary-button">&#10008;</button>\n\t\t\t</div>\n\t\t</div>\n\t\t`;t.innerHTML=e},v=function(t,e,r){const n=+e.getAttribute("id"),s=e.querySelector('input[type="text"]');e.innerHTML=r,e.querySelector(".element-text").textContent=s.value,"task"===t?(l.tasks[n]=s.value,e.style=""):"folder"===t&&(o.folders["folder"+n].name=s.value,f()),d()},_=function(t,e,r){e.style="",e.innerHTML=r},h=function(t){const e=o.folders[o.activeFolder],r=+t.getAttribute("id"),l=e.performedTasksID.indexOf(r);-1==l?e.performedTasksID.push(r):e.performedTasksID.splice(l,1),d()}};console.log("sgdf"),window.addEventListener("DOMContentLoaded",async()=>{await async function(){o={folders:{}}}(),c(),f(),function(){const t=["#a60000","#5d8114","#8455bf","#1f0351","#b69200","#ff5600","#f3296d","#009641"];document.querySelectorAll(".left__creating-radio").forEach((e,r)=>{e.style.backgroundColor=t[r]})}(),document.querySelector(".left__folders").addEventListener("click",t=>{t.target.classList.contains("left__folder-overlay")&&(o.activeFolder="folder"+t.target.parentNode.getAttribute("id"),f(),d())}),g("folder",".left__creating-button",".left__creating-input",".left__creating"),g("task",".right__create-add",".right__create-input",".right__create-form"),a(".left__creating","left__creating-active",[".left__create-overlay"],[],[".left__creating-close",".right",".left__folders"]),a(".right__create-form","right__create-form-active",[".right__create-button-overlay"],[],[".right__create-cancel",".left",".right__tasks"]),u("task",".right__tasks"),u("folder",".left__folders")})}]);
//# sourceMappingURL=bundle.js.map